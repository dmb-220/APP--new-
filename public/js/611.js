"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[611],{37263:(t,s,i)=>{i.d(s,{Z:()=>a});const e={name:"CardToolbar",props:{isMobile:{type:Boolean,default:!1}}};const a=(0,i(51900).Z)(e,(function(){var t=this,s=t._self._c;return s("div",{staticClass:"notification is-card-toolbar"},[s("div",{staticClass:"level",class:{"is-mobile":t.isMobile}},[s("div",{staticClass:"level-left"},[s("div",{staticClass:"level-item"},[t._t("left")],2)]),t._v(" "),s("div",{staticClass:"level-right"},[s("div",{staticClass:"level-item"},[t._t("right")],2)])])])}),[],!1,null,null,null).exports},22611:(t,s,i)=>{i.r(s),i.d(s,{default:()=>o});var e=i(73727);function a(t,s){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,s){if(!t)return;if("string"==typeof t)return n(t,s);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return n(t,s)}(t))||s&&t&&"number"==typeof t.length){i&&(t=i);var e=0,a=function(){};return{s:a,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,o=!0,r=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return o=t.done,t},e:function(t){r=!0,l=t},f:function(){try{o||null==i.return||i.return()}finally{if(r)throw l}}}}function n(t,s){(null==s||s>t.length)&&(s=t.length);for(var i=0,e=new Array(s);i<s;i++)e[i]=t[i];return e}const l={name:"Prekes",components:{CardToolbar:i(37263).Z,CardComponent:e.Z},data:function(){return{isFullPage:!0,isLoading:!1,isModalLikutis:!1,labelPosition:"on-border",allSelected:[],columns:[{label:"Prekė",field:"preke"},{label:"Kiekis",field:"kiekis"},{label:"Pavadinimas",field:"pavadinimas"}],dates:[],salis:{LT:1,LV:0,EE:0},salis_nr:1,sarasas:[],kiekis:[],settings:[],list:[],checkboxGroup:[]}},computed:{},created:function(){this.getData()},methods:{selectAll:function(t,s){console.log(t),console.log(s);var i,e=a(s);try{for(e.s();!(i=e.n()).done;){var n=i.value;console.log(n)}}catch(t){e.e(t)}finally{e.f()}},suformuoti:function(){var t=this;this.isLoading=!0,axios.post("/stock_quant/store",{settings:this.settings,salis:this.salis}).then((function(s){console.log(s.data.data),t.getData(),t.$buefy.toast.open({message:"Duomenys atnaujinti!",type:"is-info"})})).catch((function(s){t.isLoading=!1,t.$buefy.toast.open({message:"Error: ".concat(s.message),type:"is-danger"})}))},print:function(){this.mobile_card=!1,this.$htmlToPaper("printMe")},change_lt:function(){this.salis.LT=1,this.salis.LV=0,this.salis.EE=0,this.list=this.sarasas[1],this.salis_nr=1},change_lv:function(){this.salis.LT=0,this.salis.LV=1,this.salis.EE=0,this.list=this.sarasas[2],this.salis_nr=2},change_ee:function(){this.salis.LT=0,this.salis.LV=0,this.salis.EE=1,this.list=this.sarasas[3],this.salis_nr=3},getData:function(){var t=this;this.isLoading=!0,this.axios.get("/stock_quant").then((function(s){t.isLoading=!1,t.sarasas=s.data.sarasas,t.kiekis=s.data.kiekis,t.settings=s.data.settings,t.checkboxGroup=s.data.sandeliai,t.allSelected=t.checkboxGroup,t.list=t.sarasas[1],t.settings.paieska_big=!!t.settings.paieska_big,t.settings.min=parseInt(t.settings.min)})).catch((function(s){t.isLoading=!1,t.$buefy.toast.open({message:"Error: ".concat(s.message),type:"is-danger",queue:!1})}))}}};const o=(0,i(51900).Z)(l,(function(){var t=this,s=t._self._c;return s("div",[s("section",{staticClass:"section is-main-section"},[s("b-loading",{attrs:{"is-full-page":t.isFullPage},model:{value:t.isLoading,callback:function(s){t.isLoading=s},expression:"isLoading"}}),t._v(" "),s("card-component",{attrs:{title:"VALDYMAS",icon:"account-multiple"}},[s("b-field",{attrs:{label:"PAIEŠKA","label-position":t.labelPosition}},[s("b-taginput",{attrs:{ellipsis:"",icon:"label"},nativeOn:{keyup:function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"enter",13,s.key,"Enter")?null:t.suformuoti.apply(null,arguments)}},model:{value:t.settings.tags,callback:function(s){t.$set(t.settings,"tags",s)},expression:"settings['tags']"}})],1),t._v(" "),s("b-field",{attrs:{label:"MIN kiekis","label-position":t.labelPosition}},[s("b-numberinput",{attrs:{min:0},model:{value:t.settings.min,callback:function(s){t.$set(t.settings,"min",s)},expression:"settings['min']"}})],1),t._v(" "),s("b-field",[s("b-checkbox",{attrs:{type:"is-info"},model:{value:t.settings.paieska_big,callback:function(s){t.$set(t.settings,"paieska_big",s)},expression:"settings['paieska_big']"}},[t._v("Aktivuoti išplėstinę paieška")])],1),t._v(" "),s("b-field",{attrs:{horizontal:""}},[s("b-button",{attrs:{type:t.salis.LT?"is-primary":"is-dark"},on:{click:function(s){return t.change_lt()}}},[t._v("LIETUVA")]),t._v(" "),s("b-button",{attrs:{type:t.salis.LV?"is-warning":"is-dark"},on:{click:function(s){return t.change_lv()}}},[t._v("LATVIJA")]),t._v(" "),s("b-button",{attrs:{type:t.salis.EE?"is-danger":"is-dark"},on:{click:function(s){return t.change_ee()}}},[t._v("ESTIJA")])],1),t._v(" "),s("div",{staticClass:"buttons"},[s("b-button",{attrs:{size:"is-medium","icon-left":"desktop-classic",type:"is-dark"},on:{click:t.suformuoti}},[t._v("\n          RODYTI\n        ")])],1)],1),t._v(" "),s("card-component",{attrs:{title:"Prekės",icon:"account-multiple"}},[s("div",{attrs:{id:"printMe"}},[s("b-table",{attrs:{bordered:"",narrowed:!0,data:t.list,"sort-icon":"arrow-up",loading:t.isLoading,"default-sort-direction":"asc","default-sort":"preke"}},[s("b-table-column",{attrs:{label:"Sandelis",width:"300"},scopedSlots:t._u([{key:"default",fn:function(i){return[s("div",{staticClass:"is-size-2 has-text-centered has-text-weight-bold has-background-grey-light"},[t._v(t._s(i.index))]),t._v(" "),s("br"),t._v(" "),s("div",{staticClass:"buttons"},[s("vue-excel-xlsx",{staticClass:"button is-dark",attrs:{data:t.checkboxGroup[t.salis_nr][i.index],columns:t.columns,fileName:i.index}},[t._v("\n              ATSISIŲSTI\n            ")])],1),t._v(" "),s("br"),t._v("\n          Kodai: "+t._s(t.checkboxGroup[t.salis_nr][i.index].length)+"\n        ")]}}])}),t._v(" "),s("b-table-column",{attrs:{label:"Prekes"},scopedSlots:t._u([{key:"default",fn:function(i){return[s("table",{staticClass:"table"},[s("thead",[s("tr",[s("th",{staticClass:"has-background-grey-light has-text-centered",attrs:{width:"15"}},[s("b-button",{attrs:{size:"is-small","icon-right":"check"},on:{click:function(s){return t.selectAll(i.index,i.row)}}})],1),t._v(" "),s("th",{staticClass:"has-background-grey-light",attrs:{width:"200"}},[t._v("Kodas")]),t._v(" "),s("th",{staticClass:"has-background-grey-light"},[t._v("Kiekis")]),t._v(" "),s("th",{staticClass:"has-background-grey-light"},[t._v("VISO")])])]),t._v(" "),s("tbody",t._l(i.row,(function(i,e){return s("tr",{key:e},[s("td",{staticClass:"has-text-centered"},[s("b-checkbox",{attrs:{"native-value":i},model:{value:t.checkboxGroup[t.salis_nr][i.sandelis],callback:function(s){t.$set(t.checkboxGroup[t.salis_nr],i.sandelis,s)},expression:"checkboxGroup[salis_nr][item.sandelis]"}})],1),t._v(" "),s("td",[t._v(t._s(e))]),t._v(" "),s("td",[t._v(t._s(i.kiekis))]),t._v(" "),s("td",{staticClass:"has-background-grey-lighter"},[t._v(t._s(t.kiekis[e]))])])})),0)])]}}])})],1),t._v(" "),s("br")],1),t._v(" "),s("hr"),t._v(" "),s("div",{staticClass:"buttons"},[s("b-button",{attrs:{size:"is-medium","icon-left":"printer",type:"is-dark"},on:{click:t.print}},[t._v("SPAUSDINTI")])],1)])],1)])}),[],!1,null,"0b8dbd42",null).exports}}]);