(self.webpackChunk=self.webpackChunk||[]).push([[107],{62705:(t,e,a)=>{var s=a(55639).Symbol;t.exports=s},77412:t=>{t.exports=function(t,e){for(var a=-1,s=null==t?0:t.length;++a<s&&!1!==e(t[a],a,t););return t}},14636:(t,e,a)=>{var s=a(22545),n=a(35694),r=a(1469),o=a(44144),i=a(65776),l=a(36719),u=Object.prototype.hasOwnProperty;t.exports=function(t,e){var a=r(t),c=!a&&n(t),d=!a&&!c&&o(t),f=!a&&!c&&!d&&l(t),p=a||c||d||f,b=p?s(t.length,String):[],v=b.length;for(var m in t)!e&&!u.call(t,m)||p&&("length"==m||d&&("offset"==m||"parent"==m)||f&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||i(m,v))||b.push(m);return b}},89881:(t,e,a)=>{var s=a(47816),n=a(99291)(s);t.exports=n},28483:(t,e,a)=>{var s=a(25063)();t.exports=s},47816:(t,e,a)=>{var s=a(28483),n=a(3674);t.exports=function(t,e){return t&&s(t,e,n)}},44239:(t,e,a)=>{var s=a(62705),n=a(89607),r=a(2333),o=s?s.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":o&&o in Object(t)?n(t):r(t)}},9454:(t,e,a)=>{var s=a(44239),n=a(37005);t.exports=function(t){return n(t)&&"[object Arguments]"==s(t)}},38749:(t,e,a)=>{var s=a(44239),n=a(41780),r=a(37005),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,t.exports=function(t){return r(t)&&n(t.length)&&!!o[s(t)]}},280:(t,e,a)=>{var s=a(25726),n=a(86916),r=Object.prototype.hasOwnProperty;t.exports=function(t){if(!s(t))return n(t);var e=[];for(var a in Object(t))r.call(t,a)&&"constructor"!=a&&e.push(a);return e}},22545:t=>{t.exports=function(t,e){for(var a=-1,s=Array(t);++a<t;)s[a]=e(a);return s}},7518:t=>{t.exports=function(t){return function(e){return t(e)}}},54290:(t,e,a)=>{var s=a(6557);t.exports=function(t){return"function"==typeof t?t:s}},99291:(t,e,a)=>{var s=a(98612);t.exports=function(t,e){return function(a,n){if(null==a)return a;if(!s(a))return t(a,n);for(var r=a.length,o=e?r:-1,i=Object(a);(e?o--:++o<r)&&!1!==n(i[o],o,i););return a}}},25063:t=>{t.exports=function(t){return function(e,a,s){for(var n=-1,r=Object(e),o=s(e),i=o.length;i--;){var l=o[t?i:++n];if(!1===a(r[l],l,r))break}return e}}},31957:(t,e,a)=>{var s="object"==typeof a.g&&a.g&&a.g.Object===Object&&a.g;t.exports=s},89607:(t,e,a)=>{var s=a(62705),n=Object.prototype,r=n.hasOwnProperty,o=n.toString,i=s?s.toStringTag:void 0;t.exports=function(t){var e=r.call(t,i),a=t[i];try{t[i]=void 0;var s=!0}catch(t){}var n=o.call(t);return s&&(e?t[i]=a:delete t[i]),n}},65776:t=>{var e=/^(?:0|[1-9]\d*)$/;t.exports=function(t,a){var s=typeof t;return!!(a=null==a?9007199254740991:a)&&("number"==s||"symbol"!=s&&e.test(t))&&t>-1&&t%1==0&&t<a}},25726:t=>{var e=Object.prototype;t.exports=function(t){var a=t&&t.constructor;return t===("function"==typeof a&&a.prototype||e)}},86916:(t,e,a)=>{var s=a(5569)(Object.keys,Object);t.exports=s},31167:(t,e,a)=>{t=a.nmd(t);var s=a(31957),n=e&&!e.nodeType&&e,r=n&&t&&!t.nodeType&&t,o=r&&r.exports===n&&s.process,i=function(){try{var t=r&&r.require&&r.require("util").types;return t||o&&o.binding&&o.binding("util")}catch(t){}}();t.exports=i},2333:t=>{var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},5569:t=>{t.exports=function(t,e){return function(a){return t(e(a))}}},55639:(t,e,a)=>{var s=a(31957),n="object"==typeof self&&self&&self.Object===Object&&self,r=s||n||Function("return this")();t.exports=r},66073:(t,e,a)=>{t.exports=a(84486)},84486:(t,e,a)=>{var s=a(77412),n=a(89881),r=a(54290),o=a(1469);t.exports=function(t,e){return(o(t)?s:n)(t,r(e))}},6557:t=>{t.exports=function(t){return t}},35694:(t,e,a)=>{var s=a(9454),n=a(37005),r=Object.prototype,o=r.hasOwnProperty,i=r.propertyIsEnumerable,l=s(function(){return arguments}())?s:function(t){return n(t)&&o.call(t,"callee")&&!i.call(t,"callee")};t.exports=l},1469:t=>{var e=Array.isArray;t.exports=e},98612:(t,e,a)=>{var s=a(23560),n=a(41780);t.exports=function(t){return null!=t&&n(t.length)&&!s(t)}},44144:(t,e,a)=>{t=a.nmd(t);var s=a(55639),n=a(95062),r=e&&!e.nodeType&&e,o=r&&t&&!t.nodeType&&t,i=o&&o.exports===r?s.Buffer:void 0,l=(i?i.isBuffer:void 0)||n;t.exports=l},23560:(t,e,a)=>{var s=a(44239),n=a(13218);t.exports=function(t){if(!n(t))return!1;var e=s(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},41780:t=>{t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},13218:t=>{t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},37005:t=>{t.exports=function(t){return null!=t&&"object"==typeof t}},36719:(t,e,a)=>{var s=a(38749),n=a(7518),r=a(31167),o=r&&r.isTypedArray,i=o?n(o):s;t.exports=i},3674:(t,e,a)=>{var s=a(14636),n=a(280),r=a(98612);t.exports=function(t){return r(t)?s(t):n(t)}},95062:t=>{t.exports=function(){return!1}},92346:(t,e,a)=>{"use strict";a.d(e,{Z:()=>o});var s=a(66073),n=a.n(s);const r={name:"FilePickerPost",props:{label:{type:String,default:"CSV failo įkėlimas"},message:{type:String,default:null},currentFile:{default:null},postSubject:{type:String,default:null}},data:function(){return{errors:{},file:null,uploadPercent:0,isUploadSuccess:!1}},computed:{fieldFileMessage:function(){return this.errors.file?this.errors.file[0]:this.isUploadSuccess?"Failas įkeltas sėkmingai":this.uploadPercent?"Įkeliama ".concat(this.uploadPercent,"%"):this.message},uploadButtonText:function(){return this.fileName?"Rinktis sekantį failą":"Pasirinkite failą"},uploadButtonIcon:function(){return this.fileName?"cloud-sync":"cloud-upload"},fieldFileType:function(){return this.errors.file?"is-danger":null},fileName:function(){return this.file?this.file.name:this.currentFile?this.currentFile:null}},methods:{upload:function(t){var e=this;this.errors={};var a=new FormData;a.append("file",this.file),this.isUploadSuccess=!1,axios.post(this.postSubject,a,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:this.progressEvent}).then((function(t){e.isUploadSuccess=!0,e.$emit("file-updated",t.data.data),e.$emit("file-id-updated",t.data.data.id)})).catch((function(t){e.file=null,e.uploadPercent=0,t.response.data.errors?e.errors=t.response.data.errors:e.errors={_all:["Upload error"]},n()(e.errors,(function(t){e.$buefy.toast.open({message:t[0],type:"is-danger",queue:!1})}))}))},dropFile:function(){this.file=null,this.isUploadSuccess=!1,this.uploadPercent=0,this.$emit("file-updated",null),this.$emit("file-id-updated",null)},progressEvent:function(t){this.uploadPercent=Math.round(100*t.loaded/t.total)}}};const o=(0,a(51900).Z)(r,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-field",{attrs:{label:t.label,message:t.fieldFileMessage,type:t.fieldFileType}},[a("b-upload",{attrs:{"drag-drop":"",expanded:""},on:{input:t.upload},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}},[a("section",{staticClass:"section"},[a("div",{staticClass:"content has-text-centered"},[a("p",[a("b-icon",{attrs:{icon:t.uploadButtonIcon,size:"is-large"}})],1),t._v(" "),t.uploadButtonText?a("p",[t._v(t._s(t.uploadButtonText))]):t._e()])])]),t._v(" "),t.fileName?a("div",{staticClass:"control"},[a("span",{attrs:{title:t.fileName}},[t._v(t._s(t.fileName)+" ")])]):t._e()],1)}),[],!1,null,null,null).exports},28107:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>o});var s=a(87286),n=a(92346);const r={name:"Export",components:{CardComponent:s.Z,FilePickerPost:n.Z},data:function(){return{columns:[{label:"Kodas",field:"kodas"},{label:"P-LT",field:"p_lt"},{label:"P-LV",field:"p_lv"},{label:"P-EE",field:"p_ee"},{label:"Sudetis LT",field:"sudetis_lt"},{label:"Sudetis LV",field:"sudetis_lv"},{label:"Sudetis EE",field:"sudetis_ee"},{label:"Pirk. kaina",field:"pirkimo_kaina"},{label:"Gamintojas LT",field:"gamintojas_lt"},{label:"Gamintojas LV",field:"gamintojas_lv"},{label:"Gamintojas EE",field:"gamintojas_ee"},{label:"Pard. kaina LT",field:"pardavimo_kaina_lt"},{label:"Pard. kaina LV",field:"pardavimo_kaina_lv"},{label:"Pard. kaina EE",field:"pardavimo_kaina_ee"},{label:"Dydis",field:"dydis"}],file:null,failas:"",file2:null,failas2:"",isLoading:!1,isNarrowed:!0,mobile_card:!0,sarasas:[],date:""}},computed:{},created:function(){this.getData()},mounted:function(){},methods:{file_info:function(t){this.failas=t.name},file_info2:function(t){this.failas2=t.name},getData:function(){var t=this;this.isLoading=!0,this.axios.get("/export").then((function(e){t.isLoading=!1,t.sarasas=e.data.sarasas,t.date=e.data.date})).catch((function(e){t.isLoading=!1,t.$buefy.toast.open({message:"Error: ".concat(e.message),type:"is-danger",queue:!1})}))},update_list:function(){var t=this;this.isLoading=!0,this.axios.post("/export/store",{file:this.failas,file2:this.failas2}).then((function(e){console.log(e.data.data),t.getData(),t.isLoading=!1,t.$buefy.toast.open({message:"Duomenys atnaujinti!",type:"is-info",queue:!1})})).catch((function(e){t.isLoading=!1,t.$buefy.toast.open({message:"Error: ".concat(e.message),type:"is-danger",queue:!1})}))}}};const o=(0,a(51900).Z)(r,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"section is-main-section"},[a("card-component",{attrs:{title:"VALDYMAS",icon:"finance"}},[a("div",{staticClass:"has-text-centered"},[t._v("Paskutini karta atnaujinta: "+t._s(t.date))]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column"},[a("file-picker-post",{attrs:{"post-subject":"/export/store_akcija",label:"Export failo įkėlimas"},on:{"file-updated":t.file_info},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}}),t._v(" "),a("p",{staticClass:"is-size-7"},[t._v("\n          CSV failas: Ataskaitos -> Generuojamos ataskaitos -> Eksportas lipduku spausdinimui"),a("br"),t._v("\n          Filtras: viska išvalyti, nes reikalingas visas barkodų sąrašas\n        ")]),t._v(" "),a("p",{staticClass:"control"},[a("button",{staticClass:"button is-sark",on:{click:t.update_list}},[t._v("Atnaujinti")])])],1),t._v(" "),a("div",{staticClass:"column"},[a("file-picker-post",{attrs:{"post-subject":"/export/store_akcija",label:"Saskaitos failo įkėlimas"},on:{"file-updated":t.file_info2},model:{value:t.file2,callback:function(e){t.file2=e},expression:"file2"}}),t._v(" "),a("p",{staticClass:"is-size-7"},[t._v("\n          CSV failas: Ataskaitos -> Generuojamos ataskaitos -> Atsargų operacijos arba"),a("br"),t._v("\n          Atsargos -> Atsargų ataskaitos -> Prekių likutis"),a("br"),t._v("\n          Filtras: išsifiltruoti norimų prekių sąrašą\n        ")]),t._v(" "),a("p",{staticClass:"control"},[a("button",{staticClass:"button is-sark",on:{click:t.update_list}},[t._v("Suformuoti")])])],1)])]),t._v(" "),a("card-component",{attrs:{title:"Lipduku eksportas",icon:"account-multiple"}},[a("div",{staticClass:"has-text-centered"},[t._v("Prekiu kiekis: "+t._s(t.sarasas.length))]),t._v(" "),a("hr"),t._v(" "),a("b-table",{attrs:{"mobile-cards":t.mobile_card,bordered:"",hoverable:"",narrowed:t.isNarrowed,data:t.sarasas,loading:t.isLoading}},[a("b-table-column",{attrs:{label:" ",centered:"",cellClass:"is-smoke",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" \n        "+t._s(e.index+1)+"\n      ")]}}])}),t._v(" "),a("b-table-column",{attrs:{label:"Kodas",field:"kodas",centered:"",cellClass:"is-smoke",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" \n        "+t._s(e.row.kodas)+"\n      ")]}}])}),t._v(" "),a("b-table-column",{attrs:{label:"Pavadinimas",field:"p_lt",centered:"",cellClass:"is-smoke",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" \n        "+t._s(e.row.p_lt)+"\n      ")]}}])}),t._v(" "),a("b-table-column",{attrs:{label:"Sudetis",field:"sudetis_lt",centered:"",cellClass:"is-smoke",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.sudetis_lt)+"\n      ")]}}])}),t._v(" "),a("b-table-column",{attrs:{label:"Pirkimas",field:"pirkimo_kaina",centered:"",cellClass:"is-smoke",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.pirkimo_kaina)+"\n      ")]}}])}),t._v(" "),a("b-table-column",{attrs:{label:"Gamintojas",field:"gamintojas_lt",centered:"",cellClass:"is-smoke",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.gamintojas_lt)+"\n      ")]}}])}),t._v(" "),a("b-table-column",{attrs:{label:"Pardavimas",field:"pardavimo_kaina_lt",centered:"",cellClass:"is-smoke",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.pardavimo_kaina_lt)+"\n      ")]}}])}),t._v(" "),a("section",{staticClass:"section",attrs:{slot:"empty"},slot:"empty"},[a("div",{staticClass:"content has-text-centered"},[t.isLoading?[a("p",[a("b-icon",{attrs:{icon:"dots-horizontal",size:"is-large"}})],1),t._v(" "),a("p",[t._v("Gaunami duomenys...")])]:[a("p",[a("b-icon",{attrs:{icon:"emoticon-sad",size:"is-large"}})],1),t._v(" "),a("p",[t._v("Duomenų nerasta …")])]],2)])],1),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"buttons"},[a("vue-excel-xlsx",{staticClass:"button is-dark is-medium",attrs:{data:t.sarasas,columns:t.columns,filename:"perkelimai",sheetname:"LT"}},[t._v("\n      ATSISIŲSTI (excel)\n    ")])],1)],1)],1)}),[],!1,null,null,null).exports}}]);