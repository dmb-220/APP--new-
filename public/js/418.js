"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[418],{74245:(t,i,e)=>{e.d(i,{Z:()=>s});const a={name:"ModalBoxFull",props:{isActive:{type:Boolean,default:!1},confirmLabel:{type:String,default:"Patvirtinti"},confirmType:{type:String,default:"is-info"}},data:function(){return{isModalActive:!1}},computed:{confirmButtonClass:function(){return"button ".concat(this.confirmType)}},methods:{confirm:function(){this.$emit("confirm")}},watch:{isActive:function(t){this.isModalActive=t},isModalActive:function(t){}}};const s=(0,e(51900).Z)(a,(function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("b-modal",{attrs:{"full-screen":"",active:t.isModalActive,"has-modal-card":""},on:{"update:active":function(i){t.isModalActive=i}}},[e("div",{staticClass:"modal-card"},[e("header",{staticClass:"modal-card-head"},[e("p",{staticClass:"modal-card-title"},[t._v("PARDAVIMAI")])]),t._v(" "),e("section",{staticClass:"modal-card-body"},[t._t("default")],2),t._v(" "),e("footer",{staticClass:"modal-card-foot"},[e("button",{class:t.confirmButtonClass,on:{click:t.confirm}},[t._v(t._s(t.confirmLabel))])])])])}),[],!1,null,null,null).exports},60418:(t,i,e)=>{e.r(i),e.d(i,{default:()=>g});var a=e(87286),s=e(74245);function n(t,i){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);i&&(a=a.filter((function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),e.push.apply(e,a)}return e}function o(t){for(var i=1;i<arguments.length;i++){var e=null!=arguments[i]?arguments[i]:{};i%2?n(Object(e),!0).forEach((function(i){r(t,i,e[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):n(Object(e)).forEach((function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))}))}return t}function r(t,i,e){return i in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}var l={primary:"#00D1B2",info:"#209CEE",danger:"#FF3860",lietuva:"#5b9600",latvija:"GoldenRod",estija:"tomato",viso:"black"},c=o(o({},{maintainAspectRatio:!1,legend:{display:!1},responsive:!0}),{},{tooltips:{backgroundColor:"#f5f5f5",titleFontColor:"#333",bodyFontColor:"#666",bodySpacing:4,xPadding:12,mode:"nearest",intersect:0,position:"nearest"},scales:{yAxes:[{barPercentage:1,gridLines:{drawBorder:!1,color:"rgba(29,140,248,0.0)",zeroLineColor:"transparent"},ticks:{padding:20,fontColor:"#9a9a9a"}}],xAxes:[{barPercentage:1,gridLines:{drawBorder:!1,color:"rgba(225,78,202,0.1)",zeroLineColor:"transparent"},ticks:{padding:20,fontColor:"#9a9a9a"}}]}}),d=e(56663);const u={name:"bar-chart",extends:d.$Q,mixins:[d.tA.reactiveProp],props:{extraOptions:Object},data:function(){return{ctx:null}},mounted:function(){var t=this;this.$watch("chartData",(function(i,e){e||t.renderChart(t.chartData,t.extraOptions)}),{immediate:!0})}},p={name:"ModalPardavimaitBox",components:{ModalBoxFull:s.Z,BarChart:u,CardComponent:a.Z},props:{isActive:{type:Boolean,default:!1},viewSubject:{type:String,default:""},viewPardavimai:{type:Array,default:null},viewLabel:{type:Array,default:null}},data:function(){return{defaultChart:{chartData:null,extraOptions:c},pardavimai:this.viewPardavimai,label:this.viewLabel}},computed:{},watch:{$props:{handler:function(){this.fillChartData()},deep:!0,immediate:!0}},mounted:function(){},created:function(){},methods:{cancel:function(){this.$emit("cancel")},confirm:function(){this.$emit("confirm")},fillChartData:function(){this.defaultChart.chartData={datasets:[{fill:!0,borderColor:l.info,borderWidth:2,borderDash:[],borderDashOffset:0,pointBackgroundColor:l.info,pointBorderColor:"rgba(255,255,255,0)",pointHoverBackgroundColor:l.info,pointBorderWidth:20,pointHoverRadius:4,pointHoverBorderWidth:15,pointRadius:4,data:this.viewPardavimai}],labels:this.viewLabel}}}};var f=e(51900);const v=(0,f.Z)(p,(function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("modal-box-full",{attrs:{"is-active":t.isActive,"confirm-type":"is-success","confirm-label":"Uždaryti"},on:{"update:isActive":function(i){t.isActive=i},"update:is-active":function(i){t.isActive=i},confirm:t.confirm}},[e("card-component",{attrs:{title:t.viewSubject,icon:"finance","header-icon":"reload"},on:{"header-icon-click":t.fillChartData}},[t.defaultChart.chartData?e("div",{staticClass:"chart-area"},[e("bar-chart",{ref:"bigChart",staticStyle:{height:"100%"},attrs:{"chart-id":"big-bar-chart","chart-data":t.defaultChart.chartData,"extra-options":t.defaultChart.extraOptions}})],1):t._e()])],1)}),[],!1,null,null,null).exports;function b(t,i,e){return i in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}const h={name:"statistika",components:{CardComponent:a.Z,ModalStatistikaBox:v},data:function(){var t;return{isLoading:!1,isFullPage:!0,defaultOpenedDetails:[1],showDetailIcon:!0,isNarrowed:!0,mobile_card:!0,settings:(t={ieskoti:"",paieska:"",rodyti_lt:!0,rodyti_lv:!0,rodyti_ee:!0,gam:!0,pirk:!0,paieska_big:!1},b(t,"rodyti_lt",!0),b(t,"rodyti_lv",!0),b(t,"rodyti_ee",!0),b(t,"grupe",""),t),pardavimai:[],viso_pard:"",viso_lik:"",grupes:[],grupes_lv:[],isModalView:!1,viewObject:null,viewPardavimai:null,viewLabel:null}},computed:{viewObjectName:function(){return this.viewObject?this.viewObject:null},viewName:function(){return this.viewPardavimai?this.viewPardavimai:null},labelName:function(){return this.viewLabel?this.viewLabel:null}},created:function(){this.getData()},methods:{onClass:function(t){return 1==t.salis?"is-one2":2==t.salis?"is-two2":3==t.salis?"is-three2":void 0},print:function(){this.mobile_card=!1,this.$htmlToPaper("printMe")},change_gam:function(){this.settings.gam=!this.settings.gam,this.settings.ieskoti=this.settings.paieska,this.paieska_post()},change_pirk:function(){this.settings.pirk=!this.settings.pirk,this.settings.ieskoti=this.settings.paieska,this.paieska_post()},change_lt:function(){this.settings.rodyti_lt=!this.settings.rodyti_lt,this.settings.ieskoti=this.settings.paieska,this.paieska_post()},change_lv:function(){this.settings.rodyti_lv=!this.settings.rodyti_lv,this.settings.ieskoti=this.settings.paieska,this.paieska_post()},change_ee:function(){this.settings.rodyti_ee=!this.settings.rodyti_ee,this.settings.ieskoti=this.settings.paieska,this.paieska_post()},keisti_grupe:function(){this.settings.ieskoti||(this.settings.ieskoti=this.settings.paieska),this.paieska_post()},paieska_post:function(){var t=this;axios.post("/statistika/store",{ieskoti:this.settings.ieskoti,lt:this.settings.rodyti_lt,lv:this.settings.rodyti_lv,ee:this.settings.rodyti_ee,gam:this.settings.gam,pirk:this.settings.pirk,paieska_big:this.settings.paieska_big,grupe:this.settings.grupe}).then((function(i){console.log(i.data.data),t.getData()})).catch((function(i){t.$buefy.toast.open({message:"Error: ".concat(i.message),type:"is-danger",queue:!1})}))},getData:function(){var t=this;this.isLoading=!0,this.axios.get("/statistika").then((function(i){t.isLoading=!1,t.pardavimai=i.data.data,t.viso_pard=i.data.viso_pard,t.viso_lik=i.data.viso_lik,t.grupes=i.data.grupes,t.grupes_lv=i.data.grupes_lv,t.settings=i.data.settings})).catch((function(i){t.isLoading=!1,t.$buefy.toast.open({message:"Error: ".concat(i.message),type:"is-danger",queue:!1})}))},viewModal_pardavimai:function(t,i){var e,a=[],s=[],n=i.length;for(e=0;e<n;e++)a.push(i[e].kiekis),s.push(i[e].data);this.viewObject=t,this.viewPardavimai=a,this.viewLabel=s,this.isModalView=!0},viewConfirm:function(){this.isModalView=!1},viewCancel:function(){this.isModalView=!1}}};const g=(0,f.Z)(h,(function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("section",{staticClass:"section is-main-section"},[e("modal-statistika-box",{attrs:{"is-active":t.isModalView,"view-subject":t.viewObjectName,"view-pardavimai":t.viewName,"view-label":t.labelName},on:{confirm:t.viewConfirm}}),t._v(" "),e("b-loading",{attrs:{"is-full-page":t.isFullPage},model:{value:t.isLoading,callback:function(i){t.isLoading=i},expression:"isLoading"}}),t._v(" "),e("card-component",{attrs:{title:"VALDYMAS",icon:"finance"}},[e("b-field",{attrs:{position:"is-centered"}},[e("b-input",{attrs:{placeholder:"Paieška...",type:"search",icon:"magnify",expanded:""},nativeOn:{keyup:function(i){return!i.type.indexOf("key")&&t._k(i.keyCode,"enter",13,i.key,"Enter")?null:t.paieska_post.apply(null,arguments)}},model:{value:t.settings.ieskoti,callback:function(i){t.$set(t.settings,"ieskoti",i)},expression:"settings['ieskoti']"}}),t._v(" "),e("p",{staticClass:"control"},[e("button",{staticClass:"button is-primary",on:{click:t.paieska_post}},[t._v("Ieškoti")])])],1),t._v(" "),e("b-field",[e("b-checkbox",{attrs:{value:!1,type:"is-info"},model:{value:t.settings.paieska_big,callback:function(i){t.$set(t.settings,"paieska_big",i)},expression:"settings['paieska_big']"}},[t._v("Aktivuoti išplėstinę paieška")])],1),t._v(" "),e("b-field",{attrs:{label:""}},[e("b-select",{attrs:{placeholder:"Pasirinkite...",icon:"earth",expanded:""},nativeOn:{change:function(i){return t.keisti_grupe.apply(null,arguments)}},model:{value:t.settings.grupe,callback:function(i){t.$set(t.settings,"grupe",i)},expression:"settings['grupe']"}},t._l(t.grupes,(function(i,a){return e("option",{key:a,domProps:{value:a}},[t._v("\n            "+t._s(i)+" - "+t._s(t.grupes_lv[i])+"\n          ")])})),0)],1),t._v(" "),e("b-field",{attrs:{horizontal:""}},[e("b-button",{attrs:{type:t.settings.rodyti_lt?"is-primary":"is-dark"},on:{click:function(i){return t.change_lt()}}},[t._v("LIETUVA")]),t._v(" "),e("b-button",{attrs:{type:t.settings.rodyti_lv?"is-warning":"is-dark"},on:{click:function(i){return t.change_lv()}}},[t._v("LATVIJA")]),t._v(" "),e("b-button",{attrs:{type:t.settings.rodyti_ee?"is-danger":"is-dark"},on:{click:function(i){return t.change_ee()}}},[t._v("ESTIJA")])],1),t._v(" "),e("b-field",{attrs:{horizontal:""}},[e("b-button",{attrs:{type:t.settings.pirk?"is-info":"is-dark"},on:{click:function(i){return t.change_pirk()}}},[t._v("GAMYBA")]),t._v(" "),e("b-button",{attrs:{type:t.settings.gam?"is-info":"is-dark"},on:{click:function(i){return t.change_gam()}}},[t._v("PIRKIMAI")])],1)],1),t._v(" "),e("card-component",{attrs:{title:"STATISTIKA",icon:"account-multiple"}},[e("div",{attrs:{id:"printMe"}},[e("div",{staticClass:"columns"},[e("div",{staticClass:"column has-text-centered has-text-weight-bold"},[t._v("\n          Rasta: "+t._s(t.settings.paieska)),e("br"),t._v(t._s(t.grupes[t.settings.grupe])+"\n        ")])]),t._v(" "),e("b-table",{ref:"table",attrs:{data:t.pardavimai,bordered:"",striped:"","row-class":t.onClass,"opened-detailed":t.defaultOpenedDetails,detailed:"","detail-key":"sandelis","show-detail-icon":t.showDetailIcon},on:{"details-open":function(i){return t.$buefy.toast.open("Expanded "+i.sandelis)}},scopedSlots:t._u([{key:"detail",fn:function(i){return[e("div",{staticClass:"columns"},[e("div",{staticClass:"column",style:{border:"1px solid"}},[e("b-table",{attrs:{data:i.row.list,"default-sort-direction":"desc","default-sort":"kiekis",bordered:!0,striped:!0,narrowed:!0}},[e("b-table-column",{attrs:{field:"preke",label:"Prekė",sortable:""},scopedSlots:t._u([{key:"default",fn:function(i){return[t._v("\n                    "+t._s(i.row.preke)+"\n                ")]}}],null,!0)}),t._v(" "),e("b-table-column",{attrs:{label:"Likučiai",field:"likutis",sortable:""},scopedSlots:t._u([{key:"default",fn:function(i){return[t._v("\n                    "+t._s(i.row.likutis)+"\n                ")]}}],null,!0)}),t._v(" "),e("b-table-column",{attrs:{label:"Pardavimai",field:"pardavimai",sortable:""},scopedSlots:t._u([{key:"default",fn:function(i){return[t._v("\n                    "+t._s(i.row.pardavimai)+"\n                ")]}}],null,!0)})],1)],1)])]}},{key:"footer",fn:function(){return[e("th"),t._v(" "),e("th"),t._v(" "),e("th",[t._v(t._s(t.viso_lik))]),t._v(" "),e("th",[t._v(t._s(t.viso_pard))]),t._v(" "),e("th")]},proxy:!0}])},[e("b-table-column",{attrs:{label:"Sandelis",field:"sandelis"},scopedSlots:t._u([{key:"default",fn:function(i){return[t._v("\n              "+t._s(i.row.sandelis)+"\n        ")]}}])}),t._v(" "),e("b-table-column",{attrs:{label:"Likutis",field:"likutis_sk",numeric:"",sortable:""},scopedSlots:t._u([{key:"default",fn:function(i){return[t._v("\n          "+t._s(i.row.likutis_sk)+"\n        ")]}}])}),t._v(" "),e("b-table-column",{attrs:{label:"Parduota",field:"pardavimai_sk",numeric:"",sortable:""},scopedSlots:t._u([{key:"default",fn:function(i){return[t._v("\n          "+t._s(i.row.pardavimai_sk)+"\n        ")]}}])}),t._v(" "),e("b-table-column",{attrs:{label:"Viso",field:"viso",numeric:"",sortable:""},scopedSlots:t._u([{key:"default",fn:function(i){return[e("b",[t._v(t._s(i.row.viso))])]}}])}),t._v(" "),e("b-table-column",{style:{"background-color":"WhiteSmoke"},attrs:{width:"50px",label:"INFO",field:"info"},scopedSlots:t._u([{key:"default",fn:function(i){return[Array.isArray(i.row.buy)?t._e():e("button",{staticClass:"button is-small is-danger",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.viewModal_pardavimai(i.row.buy&&i.row.buy.sandelis,i.row.buy&&i.row.buy.viso)}}},[e("b-icon",{attrs:{icon:"chart-bar",size:"is-small"}})],1)]}}])}),t._v(" "),t._v(" "),e("section",{staticClass:"section",attrs:{slot:"empty"},slot:"empty"},[e("div",{staticClass:"content has-text-centered"},[t.isLoading?[e("p",[e("b-icon",{attrs:{icon:"dots-horizontal",size:"is-large"}})],1),t._v(" "),e("p",[t._v("Gaunami duomenys...")])]:[e("p",[e("b-icon",{attrs:{icon:"emoticon-sad",size:"is-large"}})],1),t._v(" "),e("p",[t._v("Duomenų nerasta …")])]],2)])],1)],1),t._v(" "),e("hr"),t._v(" "),e("div",{staticClass:"buttons"},[e("b-button",{attrs:{size:"is-medium","icon-left":"printer",type:"is-dark"},on:{click:t.print}},[t._v("SPAUSDINTI")])],1)])],1)}),[],!1,null,null,null).exports}}]);