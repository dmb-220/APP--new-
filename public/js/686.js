"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[686],{37263:(s,t,i)=>{i.d(t,{Z:()=>e});const a={name:"CardToolbar",props:{isMobile:{type:Boolean,default:!1}}};const e=(0,i(51900).Z)(a,(function(){var s=this,t=s._self._c;return t("div",{staticClass:"notification is-card-toolbar"},[t("div",{staticClass:"level",class:{"is-mobile":s.isMobile}},[t("div",{staticClass:"level-left"},[t("div",{staticClass:"level-item"},[s._t("left")],2)]),s._v(" "),t("div",{staticClass:"level-right"},[t("div",{staticClass:"level-item"},[s._t("right")],2)])])])}),[],!1,null,null,null).exports},53686:(s,t,i)=>{i.r(t),i.d(t,{default:()=>n});var a=i(73727);const e={name:"Prekes",components:{CardToolbar:i(37263).Z,CardComponent:a.Z},data:function(){return{isFullPage:!0,isLoading:!1,isModalLikutis:!1,labelPosition:"on-border",adv:{header:!1},separator:!0,fields:["kiekis","preke","sand_is","sand_i","nr"],columns:[{label:"Prekė",field:"preke"},{label:"Kiekis",field:"kiekis"},{label:"Pavadinimas",field:"pavadinimas"}],dates:[],salis:{LT:1,LV:0,EE:0},salis_nr:1,sarasas:[],kiekis:[],settings:[],list:[],checkboxGroup:[]}},computed:{},created:function(){this.getData()},methods:{file_name:function(s){return s},currentDate:function(){var s=new Date;return s.getFullYear()+"-"+(s.getMonth()+1)+"-"+s.getDate()+".csv"},print:function(){this.mobile_card=!1,this.$htmlToPaper("printMe")},change_lt:function(){this.salis.LT=1,this.salis.LV=0,this.salis.EE=0,this.list=this.sarasas[1],this.salis_nr=1},change_lv:function(){this.salis.LT=0,this.salis.LV=1,this.salis.EE=0,this.list=this.sarasas[2],this.salis_nr=2},change_ee:function(){this.salis.LT=0,this.salis.LV=0,this.salis.EE=1,this.list=this.sarasas[3],this.salis_nr=3},getData:function(){var s=this;this.isLoading=!0,this.axios.get("/stock_quant").then((function(t){s.isLoading=!1,s.sarasas=t.data.sarasas,s.kiekis=t.data.kiekis,s.settings=t.data.settings,s.checkboxGroup=t.data.sandeliai,s.list=s.sarasas[1]})).catch((function(t){s.isLoading=!1,s.$buefy.toast.open({message:"Error: ".concat(t.message),type:"is-danger",queue:!1})}))}}};const n=(0,i(51900).Z)(e,(function(){var s=this,t=s._self._c;return t("div",[t("section",{staticClass:"section is-main-section"},[t("b-loading",{attrs:{"is-full-page":s.isFullPage},model:{value:s.isLoading,callback:function(t){s.isLoading=t},expression:"isLoading"}}),s._v(" "),t("card-component",{attrs:{title:"VALDYMAS",icon:"account-multiple"}},[t("b-field",{attrs:{label:"PAIEŠKA","label-position":s.labelPosition}},[t("b-taginput",{attrs:{ellipsis:"",icon:"label",placeholder:"Pridėti prekę","aria-close-label":"Ištrinti prekę"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&s._k(t.keyCode,"enter",13,t.key,"Enter")?null:s.paieska_post.apply(null,arguments)}},model:{value:s.settings.tags,callback:function(t){s.$set(s.settings,"tags",t)},expression:"settings['tags']"}})],1),s._v(" "),t("b-field",{attrs:{label:"MIN kiekis","label-position":s.labelPosition}},[t("b-numberinput",{attrs:{min:0},model:{value:s.settings.min,callback:function(t){s.$set(s.settings,"min",t)},expression:"settings['min']"}})],1),s._v(" "),t("b-field",[t("b-checkbox",{attrs:{type:"is-info"},model:{value:s.settings.paieska_big,callback:function(t){s.$set(s.settings,"paieska_big",t)},expression:"settings['paieska_big']"}},[s._v("Aktivuoti išplėstinę paieška")])],1),s._v(" "),t("b-field",{attrs:{horizontal:""}},[t("b-button",{attrs:{type:s.salis.LT?"is-primary":"is-dark"},on:{click:function(t){return s.change_lt()}}},[s._v("LIETUVA")]),s._v(" "),t("b-button",{attrs:{type:s.salis.LV?"is-warning":"is-dark"},on:{click:function(t){return s.change_lv()}}},[s._v("LATVIJA")]),s._v(" "),t("b-button",{attrs:{type:s.salis.EE?"is-danger":"is-dark"},on:{click:function(t){return s.change_ee()}}},[s._v("ESTIJA")])],1),s._v(" "),t("div",{staticClass:"buttons"},[t("b-button",{attrs:{size:"is-medium","icon-left":"desktop-classic",type:"is-dark"}},[s._v("\n          RODYTI\n        ")])],1)],1),s._v(" "),t("card-component",{attrs:{title:"Prekės",icon:"account-multiple"}},[t("div",{attrs:{id:"printMe"}},[t("b-table",{attrs:{bordered:"",narrowed:!0,data:s.list,"sort-icon":"arrow-up",loading:s.isLoading,"default-sort-direction":"asc","default-sort":"preke"}},[t("b-table-column",{attrs:{label:"Sandelis",width:"300"},scopedSlots:s._u([{key:"default",fn:function(i){return[t("div",{staticClass:"is-size-2 has-text-centered has-text-weight-bold has-background-grey-light"},[s._v(s._s(i.index))]),s._v(" "),t("br"),s._v(" "),t("div",{staticClass:"buttons"},[t("vue-excel-xlsx",{staticClass:"button is-dark",attrs:{data:s.checkboxGroup[s.salis_nr][i.index],columns:s.columns,filename:s.file_name(i.index)}},[s._v("\n              ATSISIŲSTI (excel)\n            ")])],1),s._v(" "),t("br"),s._v("\n          Kodai: "+s._s(s.checkboxGroup[s.salis_nr][i.index].length)+"\n        ")]}}])}),s._v(" "),t("b-table-column",{attrs:{label:"Prekes"},scopedSlots:s._u([{key:"default",fn:function(i){return[t("table",{staticClass:"table"},[t("thead",[t("tr",[t("th",{staticClass:"has-background-grey-light",attrs:{width:"30"}}),s._v(" "),t("th",{staticClass:"has-background-grey-light",attrs:{width:"200"}},[s._v("Kodas")]),s._v(" "),t("th",{staticClass:"has-background-grey-light"},[s._v("Kiekis")]),s._v(" "),t("th",{staticClass:"has-background-grey-light"},[s._v("VISO")])])]),s._v(" "),t("tbody",s._l(i.row,(function(i,a){return t("tr",{key:a},[t("td",[t("b-checkbox",{attrs:{"native-value":i},model:{value:s.checkboxGroup[s.salis_nr][i.sandelis],callback:function(t){s.$set(s.checkboxGroup[s.salis_nr],i.sandelis,t)},expression:"checkboxGroup[salis_nr][item.sandelis]"}})],1),s._v(" "),t("td",[s._v(s._s(a))]),s._v(" "),t("td",[s._v(s._s(i.kiekis))]),s._v(" "),t("td",{staticClass:"has-background-grey-lighter"},[s._v(s._s(s.kiekis[a]))])])})),0)])]}}])})],1),s._v(" "),t("br")],1),s._v(" "),t("hr"),s._v(" "),t("div",{staticClass:"buttons"},[t("b-button",{attrs:{size:"is-medium","icon-left":"printer",type:"is-dark"},on:{click:s.print}},[s._v("SPAUSDINTI")]),s._v(" "),t("vue-excel-xlsx",{staticClass:"button is-dark is-medium",attrs:{data:s.csv,columns:s.columns,filename:"perkelimai",sheetname:"LT"}},[s._v("\n        ATSISIŲSTI (excel)\n      ")]),s._v(" "),t("download-csv",{staticClass:"button is-dark is-medium",attrs:{data:s.csv,fields:s.fields,delimiter:";","separator-excel":s.separator,advancedOptions:s.adv,name:s.currentDate()}},[s._v("\n        ATSISIŲSTI (csv)\n      ")])],1)])],1)])}),[],!1,null,"565ba1e9",null).exports}}]);