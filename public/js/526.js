"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[526],{62299:(t,e,a)=>{a.d(e,{Z:()=>s});const n={name:"CardToolbar",props:{isMobile:{type:Boolean,default:!1}}};const s=(0,a(51900).Z)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"notification is-card-toolbar"},[a("div",{staticClass:"level",class:{"is-mobile":t.isMobile}},[a("div",{staticClass:"level-left"},[a("div",{staticClass:"level-item"},[t._t("left")],2)]),t._v(" "),a("div",{staticClass:"level-right"},[a("div",{staticClass:"level-item"},[t._t("right")],2)])])])}),[],!1,null,null,null).exports},78526:(t,e,a)=>{a.r(e),a.d(e,{default:()=>c});var n=a(87286);function s(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||r(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var n,s,i=[],r=!0,o=!1;try{for(a=a.call(t);!(r=(n=a.next()).done)&&(i.push(n.value),!e||i.length!==e);r=!0);}catch(t){o=!0,s=t}finally{try{r||null==a.return||a.return()}finally{if(o)throw s}}return i}(t,e)||r(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){if(t){if("string"==typeof t)return o(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?o(t,e):void 0}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}const l={name:"Prekes",components:{CardToolbar:a(62299).Z,CardComponent:n.Z},data:function(){return{sarasas:[],sandelis:"",sandeliai:[]}},computed:{apy_kiek:function(){var t=[];return Object.entries(this.sarasas).forEach((function(e){var a=i(e,2),n=(a[0],a[1]);t.push(n.kiek)})),t.reduce((function(t,e){return t+e}),0)},apy_viso:function(){var t=[];return Object.entries(this.sarasas).forEach((function(e){var a=i(e,2),n=(a[0],a[1]);t.push(n.kaina/n.nr*n.kiek)})),t.reduce((function(t,e){return t+e}),0)}},created:function(){this.getData()},methods:{csvExport:function(t){var e="data:text/csv;charset=utf-8,\ufeff";e+=[Object.keys(t[0]).join(";")].concat(s(t.map((function(t){return Object.values(t).join(";")})))).join("\n").replace(/(^\[)|(\]$)/gm,"");var a=encodeURI(e),n=document.createElement("a");n.setAttribute("href",a),n.setAttribute("download",this.sandelis+".csv"),n.click()},print:function(){this.mobile_card=!1,this.$htmlToPaper("printMe")},paieska_post:function(){var t=this;axios.post("/visilikuciai/store",{sandelis:this.sandelis}).then((function(e){console.log(e.data.data),t.getData()})).catch((function(e){t.$buefy.toast.open({message:"Error: ".concat(e.message),type:"is-danger",queue:!1})}))},getData:function(){var t=this;this.isLoading=!0,this.axios.get("/visilikuciai").then((function(e){t.isLoading=!1,t.sarasas=e.data.data,t.sandelis=e.data.sandelis,t.sandeliai=e.data.sandeliai})).catch((function(e){t.isLoading=!1,t.$buefy.toast.open({message:"Error: ".concat(e.message),type:"is-danger",queue:!1})}))}}};const c=(0,a(51900).Z)(l,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"section is-main-section"},[a("card-component",{attrs:{title:"VALDYMAS",icon:"account-multiple"}},[a("b-field",{attrs:{label:"Sandelis:",horizontal:""}},[a("b-select",{attrs:{placeholder:"Pasirinkite",expanded:""}},t._l(t.sandeliai,(function(e,n){return a("option",{key:e,domProps:{value:n}},[t._v(t._s(e))])})),0)],1),t._v(" "),a("b-field",{attrs:{label:" ",horizontal:""}},[a("p",{staticClass:"control"},[a("button",{staticClass:"button is-sark",on:{click:t.paieska_post}},[t._v("Suformuoti")])])])],1),t._v(" "),a("card-component",{attrs:{title:"Prekės",icon:"account-multiple"}},[a("div",{attrs:{id:"printMe"}},[a("div",{staticClass:"is-size-2"},[t._v(t._s(t.sandelis))]),t._v(" "),a("b-table",{attrs:{bordered:"",narrowed:!0,data:t.sarasas,"sort-icon":"arrow-up",loading:t.isLoading,"default-sort-direction":"asc","default-sort":"pavadinimas"}},[a("b-table-column",{attrs:{label:"Nr."},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.index+1)+"\n          ")]}}])}),t._v(" "),a("b-table-column",{attrs:{label:"Nosaukums",field:"pavadinimas",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                "+t._s(e.row.pavadinimas)+"\n          ")]}}])}),t._v(" "),a("b-table-column",{attrs:{label:"Vieniba"}},[t._v("\n                Gab\n          ")]),t._v(" "),a("b-table-column",{staticClass:"has-text-right",attrs:{label:"Daudzums",field:"kiek"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                "+t._s(e.row.kiek)+"\n          ")]}}])}),t._v(" "),a("b-table-column",{staticClass:"has-text-right",attrs:{label:"Cena",field:"kaina"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                "+t._s((e.row.kaina/e.row.nr).toFixed(2))+"\n          ")]}}])}),t._v(" "),a("b-table-column",{staticClass:"has-text-right",attrs:{label:"Summa"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                "+t._s((e.row.kaina/e.row.nr*e.row.kiek).toFixed(2))+"\n          ")]}}])}),t._v(" "),a("section",{staticClass:"section",attrs:{slot:"empty"},slot:"empty"},[a("div",{staticClass:"content has-text-centered"},[t.isLoading?[a("p",[a("b-icon",{attrs:{icon:"dots-horizontal",size:"is-large"}})],1),t._v(" "),a("p",[t._v("Gaunami duomenys...")])]:[a("p",[a("b-icon",{attrs:{icon:"emoticon-sad",size:"is-large"}})],1),t._v(" "),a("p",[t._v("Duomenų nerasta …")])]],2)]),t._v(" "),a("template",{slot:"footer"},[a("th",{staticClass:"has-text-right"},[t._v("VISO:")]),t._v(" "),a("th"),t._v(" "),a("th"),t._v(" "),a("th",{staticClass:"has-text-right"},[t._v(t._s(t.apy_kiek))]),t._v(" "),a("th",{staticClass:"has-text-right"}),t._v(" "),a("th",{staticClass:"has-text-right"},[t._v(t._s(t.apy_viso.toFixed(2)))])])],2)],1),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"buttons"},[t.sarasas.length>0?a("b-button",{attrs:{size:"is-medium","icon-left":"printer",type:"is-dark"},on:{click:function(e){return t.csvExport(t.sarasas)}}},[t._v("Atsisiusti")]):t._e(),t._v(" "),a("b-button",{attrs:{size:"is-medium","icon-left":"printer",type:"is-dark"},on:{click:t.print}},[t._v("SPAUSDINTI")])],1)])],1)])}),[],!1,null,"b07cd4f8",null).exports}}]);